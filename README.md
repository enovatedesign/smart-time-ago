Smart Time Ago
======================

Smart Time Ago is a little jQuery library to update the relative timestamps in your document intelligently. (e.g "3 hours ago").

It's originally built for https://pragmatic.ly/. 

It's inspired by another jQuery plugin http://timeago.yarp.com/ but give more flexibility and more intelligently.

Installation
------------

You can use it as a jQuery plugin. 

    Just copy the lib/timeago.js or src/timeago.coffee to your project folder then load it after jQuery.

Or if you use node, you can install it from npm.
  
    $ npm install -g smart-time-ago

Why Smart?
-------------

Smart Time Ago will check and update the relative time every 60000 millisecond (60 seconds) in the scope you specify at the beginning. Latter it will check the newest time in your scope then tune the checking time interval to a proper value. 

For example, if the newest time in the scope you specify is '2 hours ago'. There is no need to check and update the relative time every 60 seconds. Instead, Smart Time Ago will automaticly make the checking time interval longer to 30 minutes.

Rules:
  
  The newest time is less than 44 minutes, the checking time interval will set to 1 minute.

  The newest time is between 44 and 89 minutes, the checking time interval will set to 22 minutes.

  The newest time is between 90 minutes and 42 hours, the checking time interval will set to 30 minutes.

  The newest time is more than 42 hours, the checking time interval will set to half day.

Usage
------------

You can use it in a specify scope like.
   
    <div class="timeLables">
     <div class="timeago" datetime="2012-07-18T07:51:50Z">about 8 hours ago</div>
     <dic class="timeago" datetime="2012-07-18T06:51:50Z">about 9 hours ago</div>
    </div>
    
    $('.timeago').timeago();

By default, timeago will get the date from the `datetime` attribute. This will create a TimeAgo instance for each of the matched elements that have the required attribute.

    
Configuration
--------------

There are some default configuration in Smart Time Ago:

    $.fn.timeago.defaults = {
      attr: 'datetime',
      spacing: true,
      approximate: true,
      suffix: ' ago',
      showSeconds: false,
      showNow: false
    };
    
The 'datetime' is the default attribute to put the ISO8601 absolute time to parse.

The 'spacing' means an extra space character will be added between the time and the unit. '1 minute' will look like '1minute' with spacing set to `false`.

The 'approximate' will enable displaying text approximation words such as 'about 1 hour' and 'almost 2 years'.

The 'ago' and 'suffix' means the relative generated by Smart Time Ago will look like '3 hours ago'.
If you want the text looks like '3 hours from now', you might need change the 'suffix' to ' from now'.

The 'showSeconds' option will show how many seconds. Instead of 'less than a minute ago' you'll see '24 seconds ago'.

The 'showNow' option is to be used with 'showSeconds'. You can specify how many seconds, below 59, timeago will display 'just now' instead of '1 second ago'.

You can change the default configurations by passing the options to
timeago function when initialize timeago like:

    $('.timeago').timeago({selector: 'span.timeago', attr: 'title', dir: 'down', suffix: ' from now'})


TODO
-----
Will create a gem to better support Rails project.

Thanks very much if you could contribute.


Credits
-------

![pragmatic.ly](https://pragmatic.ly/assets/vlogo.png)

Smart Time Ago is maintained and funded by [Pragmatic.ly](https://pragmatic.ly/ "Pragmatic.ly").

Thanks to all the contributors.

Special thanks to [unRob](https://github.com/unRob) for the i18n support.

Copyright (c) 2012 Terry Tai, Pragmatic.ly (terry@pragmatic.ly, https://pragmatic.ly/)
